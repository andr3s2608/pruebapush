<div class="container mt-5">
    <p class="bg-primary title-service">Funcionarios que tomaron el servicio </p>

    <form [formGroup]="form">

        <div class="row mt-4">
            <div class="col-12 mb-4">
                Responsable
                <select formControlName="responsible" class="custom-select" id="inputGroupSelect04">
                    <option *ngFor="let item of arrayName" value="{{item}}">{{item}}</option>
                </select>
            </div>

            <table>
                <tr>
                    <td>
                        <div class="col-12">
                            Nombre
                            <input
                                onkeypress="return (event.charCode == 32) || (event.charCode > 96 && event.charCode < 123)"
                                formControlName="name_user" class="form form-control" type="text">
                        </div>
                    </td>
                    <td>
                        <div class="col-12">
                            Celular
                            <input onkeydown="return event.keyCode !== 69"
                                onkeypress="return event.charCode >= 48 && event.charCode <= 57" formControlName="movil"
                                class="form form-control" type="tel" placeholder="solo numeros">
                        </div>
                    </td>
                    <td>
                        <div class="col-12">
                            Correo electronico
                            <input [ngClass]="{'invalid-input': form.get('email_user')?.invalid }"
                                formControlName="email_user" class="form form-control" type="email">
                        </div>
                    </td>
                    <td>
                        <div class="col-12 d-flex justify-content-center align-items-center">
                            <button class="btn btn-round btn-high " [disabled]="form.get('email_user')?.invalid"
                                (click)="addDynamic()"
                                *ngIf="title!=='Aprobación Solicitud De Servicio' ">Añadir</button>
                        </div>
                    </td>
                </tr>
            </table>

        </div>

        <!-- Dynamic -->
        <table formArrayName="dynamic">
            <tr style="margin-left: -1rem;" class="d-flex align-items-end mt-3"
                *ngFor="let quantity of dynamic().controls; let i=index" [formGroupName]="i">
                <td>
                    <div class="col-12">
                        Nombre
                        <input
                            onkeypress="return (event.charCode == 32) || (event.charCode > 96 && event.charCode < 123)"
                            formControlName="name_user" class="form form-control" type="text" [attr.disabled]="title">
                    </div>
                </td>
                <td>
                    <div class="col-12">
                        Celular
                        <input onkeydown="return event.keyCode !== 69"
                            onkeypress="return event.charCode >= 48 && event.charCode <= 57" formControlName="movil"
                            class="form form-control" type="tel" placeholder="solo numeros" [attr.disabled]="title">
                    </div>
                </td>
                <td>
                    <div class="col-12">
                        Correo electronico
                        <input formControlName="email_user" class="form form-control" type="email"
                            [attr.disabled]="title">
                    </div>
                </td>
                <td>
                    <div class="col-12 d-flex justify-content-center align-items-center">
                        <button (click)="removeDynamic(i)" class="btn btn-danger"
                            *ngIf="title!=='Aprobación Solicitud De Servicio' ">Remove</button>
                    </div>
                </td>
            </tr>
        </table>

        <div class="row">
            <div class="col">
                <p class="mt-3 mb-3">Justificación</p>
                <div class="row">
                    <div class="col-6">
                        <textarea formControlName="justificacion_user" class="form form-control" name="" id="" cols="30"
                            rows="2"></textarea>
                    </div>
                </div>
            </div>
        </div>

        <!-- <button class="btn btn-round btn-high" (click)="sendFuncionarios()">Enviar 2 </button> -->

    </form>

</div>



<!-- EXAMPLE -->
<!-- <div class="container">
  
    <h1>Angular FormArray Example - ItSolutionStuff.com</h1>
    
    <form [formGroup]="productForm">
      
        <div class="row mt-4">
            <div class="col-12 mb-4">
                Responsable
                 <select formControlName="responsible" class="custom-select" id="inputGroupSelect04">
                     <option selected>Choose...</option>
                     <option value="1">One</option>
                     <option value="2">Two</option>
                     <option value="3">Three</option>
                   </select>
             </div>

            <table>
            <tr>
                <td>
                    <div class="col-12">
                        Nombre
                        <input formControlName="name_user" class="form form-control" type="text" >
                    </div>
                </td>
                <td>
                    <div class="col-12">
                        Celular
                         <input formControlName="movil"  class="form form-control" type="tel" placeholder="solo numeros">
                     </div>
                </td>
                <td>
                    <div class="col-12">
                        Correo electronico
                        <input formControlName="email_user"   class="form form-control" type="email">
                    </div>
                </td>
                <td>
                    <div class="col-12 d-flex justify-content-center align-items-center">
                        <button class="btn btn-round btn-high " (click)="addDynamic()" >Añadir</button>
                    </div>
                </td>
            </tr>
            </table>

            <table formArrayName="dynamic">
            <tr class="d-flex align-items-end mt-3" *ngFor="let quantity of dynamic().controls; let i=index" [formGroupName]="i">
                <td>
                    <div class="col-12">
                        Nombre
                        <input formControlName="name_user" class="form form-control" type="text" >
                    </div>
                </td>
                <td>
                    <div class="col-12">
                        Celular
                         <input formControlName="movil"  class="form form-control" type="tel" placeholder="solo numeros">
                     </div>
                </td>
                <td>
                    <div class="col-12">
                        Correo electronico
                        <input formControlName="email_user"   class="form form-control" type="email">
                    </div>
                </td>
                <td>
                    <div class="col-12 d-flex justify-content-center align-items-center">
                        <button (click)="removeDynamic(i)" class="btn btn-danger">Remove</button>
                    </div>
                </td>
            </tr>
            </table>
        </div>
        <div class="row">
            <div class="col">
                <p class="mt-3 mb-3">Justificación</p>
                <div class="row" >
                    <div class="col-6">
                       <textarea formControlName="justificacion_user" class="form form-control" name="" id="" cols="30" rows="2"></textarea>
                    </div>
                </div>
            </div>
        </div> 
    </form>

    <br/>
    {{this.productForm.value | json}}
    {{this.productForm.status | json}}
</div> -->